<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ½ï¸</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Neo Dining System</title>
  </head>
  <body>
    <nav>
      <div class="container nav-content">
        <div class="brand">Neo Dining</div>
        <div class="nav-actions">
          <button id="admin-login-btn" style="border:none;background:none;cursor:pointer;margin-right:15px;color:#666;font-size:0.9rem;">Admin Login</button>
          
          <div class="search-trigger" id="search-trigger">
            <span>Search ğŸ”</span>
          </div>
          <div class="cart-icon-btn" id="cart-toggle-btn">
            ğŸ›’ <span id="cart-badge" class="badge">0</span>
          </div>
        </div>
      </div>
    </nav>

    <div class="container category-wrapper">
      <div class="category-bar" id="category-bar"></div>
    </div>

    <main class="container">
      <div id="admin-toolbar" style="display:none; margin-bottom: 20px; padding: 15px; background: #eef4ff; border-radius: 8px; align-items: center; gap: 15px; border:1px solid #d1e3ff;">
        <span style="font-weight:bold; color:#0056b3;">ğŸ”§ ç®¡ç†å‘˜æ¨¡å¼</span>
        <button id="add-item-btn" style="padding: 6px 15px; background: #0071e3; color: white; border: none; border-radius: 4px; cursor: pointer;">+ æ·»åŠ æ–°èœå“</button>
        <button id="logout-btn" style="padding: 6px 15px; background: #d93025; color: white; border: none; border-radius: 4px; cursor: pointer;">é€€å‡ºç™»å½•</button>
      </div>

      <div id="loading" class="loading-spinner">Connecting to System...</div>
      <div id="menu-grid" class="grid"></div>
    </main>

    <div id="item-modal" class="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; justify-content:center; align-items:center;">
      <div style="background:white; padding:2rem; border-radius:12px; width:90%; max-width:400px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
        <h2 id="modal-title" style="margin-top:0;">ç¼–è¾‘èœå“</h2>
        <form id="item-form" style="display:flex; flex-direction:column; gap:12px;">
          <input type="text" id="input-name" placeholder="èœå (Name)" required style="padding:10px; border:1px solid #ccc; border-radius:4px;">
          <input type="number" id="input-price" placeholder="ä»·æ ¼ (Price)" step="0.1" required style="padding:10px; border:1px solid #ccc; border-radius:4px;">
          <input type="text" id="input-category" placeholder="åˆ†ç±» (Category)" required style="padding:10px; border:1px solid #ccc; border-radius:4px;">
          <input type="url" id="input-image" placeholder="å›¾ç‰‡é“¾æ¥ (Image URL)" style="padding:10px; border:1px solid #ccc; border-radius:4px;">
          <div style="display:flex; justify-content:flex-end; gap:10px; margin-top:10px;">
            <button type="button" id="modal-cancel" style="padding:8px 15px; background:#f5f5f7; border:1px solid #ddd; border-radius:4px; cursor:pointer;">å–æ¶ˆ</button>
            <button type="submit" style="padding:8px 15px; background:#0071e3; color:white; border:none; border-radius:4px; cursor:pointer;">ä¿å­˜</button>
          </div>
        </form>
      </div>
    </div>

    <div id="search-overlay" class="search-overlay">
      <div class="search-content">
         <input type="text" id="global-search" placeholder="Type to search...">
         <button id="close-search">Close</button>
      </div>
    </div>

    <div id="cart-drawer" class="cart-drawer">
      <div class="drawer-header"><h2>Shopping Bag</h2><button id="close-drawer">Ã—</button></div>
      <div id="cart-items" style="flex:1; overflow-y:auto; padding:15px;"></div>
      <div class="drawer-footer">
          <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-weight:bold; font-size:1.1rem;">
              <span>Total:</span>
              <span id="drawer-total-price">Â¥0.00</span>
          </div>
          <button id="checkout-btn">Check Out</button>
      </div>
    </div>
    <div id="drawer-backdrop" class="drawer-backdrop"></div>

    <div id="success-modal" class="success-modal">
       <div class="success-content">
           <div style="font-size:3rem;">ğŸ‰</div>
           <h2>Order Placed!</h2>
           <p>Your delicious food is being prepared.</p>
           <button id="success-close-btn">Close</button>
       </div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>